<app-listgrafic *ngIf="isgraphiclist"> </app-listgrafic>

<!DOCTYPE html>
<html lang="en" *ngIf="isgraphiclisnonactive">
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />>
    <!--Get your code at fontawesome.com-->
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Font special for pages-->
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
</head>

<body>
   <div class="card card-4">
    <div class="card-body">
     <h2 class="title" style="text-align: center;">Gr@fic (Sup)</h2>
     <hr>
     <br>
     <table class="table1" >
        <tr>
            <td style="padding-right: 10px;">
              <table>
                <tr>
                  <td><label>
                    <input type="radio" name="searchbyIdGraphic" value="IdGraphic" checked [(ngModel)]="searchby">
                    <span class="value">Id Graphic</span>
                  </label></td>
                  <td><label>
                    <input type="radio" name="searchbyDateTrait" value="DateTrait" [(ngModel)]="searchby">
                    <span class="value">Date de Traitement</span>
                  </label></td>
                  <td><label>
                    <input type="radio" name="searchbyAffectation" value="Affectation" [(ngModel)]="searchby">
                    <span class="value">Affectation</span>
                  </label></td>
                </tr>
              </table>
              
            </td>
            <td style="padding-right: 10px;">
                <input type="text" class="input--style-4" placeholder="Search by Id Graphic" *ngIf="searchby === 'IdGraphic'" [(ngModel)]="searchValue">
                <input type="date" class="input--style-4" id="dateTraitement" required *ngIf="searchby === 'DateTrait'" [(ngModel)]="searchValue" name="dateTraitement"/>
                <div class="input--style-4">
                <select name="Affectation" class="input--style-4" style="border: 0;" *ngIf="searchby === 'Affectation'" [(ngModel)]="searchValue">
                    <option value={{colab.cuid}} *ngFor="let colab of colabsteam; let i = index" >{{colab.nom}} {{colab.prenom}}</option>    
                 </select>
                </div>
            </td>
            <td>
                <button class="searchbutt" (click)="search()">Search </button>
            </td>
        </tr>
       </table>
       <br>
       <hr>

       <div id="div1" >
        <table id="users">
            <thead>
                <tr>
                  <th>idGrafic</th>
                  <th>Affectation</th>
                  <th>Date de traitement</th>
                  <th>Type de traitement</th>
                  <th>Traitement effectu√©</th>
                  <th *ngIf="isPilote"> Active </th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let graphic of grafics; let i = index" [class.active]="i == currentIndex">
                  <td> {{ graphic.idGrafic}} </td>
                  <td> {{ graphic.affectation }} </td>
                  <td> {{ graphic.dateTraitement }} </td>
                  <td> {{ graphic.type_traitement }} </td>
                  <td> {{ graphic.traitement_effectue }} </td>
                  <td *ngIf="isPilote"> <button class="material-symbols-outlined" data-bs-toggle="modal" data-bs-target="#confirmdeletionmodal" >published_with_changes</button> </td>
                </tr>
                
              </tbody>
        </table>
       </div>
       <br>
       <hr>
    <br>
    <div style="text-align: right;" *ngIf="isPilote"> 
      <button class="btn" (click)="listgrafic()">
        <i class="fa fa-bars"></i>
      </button>  
    </div>

     <!-- Modal delation-->
  <div class="modal fade" id="confirmdeletionmodal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">Delete Acte {{currentGraphic.idGrafic}}</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <br>
          Are you sure you want to activate the act {{currentGraphic.idGrafic}} ?
          <br>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" (click)="activeGrafic()"  >Active</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>
    <!-- End Modal delation-->



    </div>
   </div>  
</body>
</html>