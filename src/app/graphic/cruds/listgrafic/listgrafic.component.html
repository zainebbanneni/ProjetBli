<app-listgraficnonactive *ngIf="isgraphiclisnonactive"> </app-listgraficnonactive>

<!DOCTYPE html>
<html lang="en" *ngIf="isgraphiclist">
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />>
    <!--Get your code at fontawesome.com-->
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Font special for pages-->
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
</head>

<body>
   <div class="card card-4">
    <div class="card-body">
     <h2 class="title" style="text-align: center;">Gr@fic Search</h2>
     <hr>
     <br>
     
     <table class="table1" >
        <tr>
            <td style="padding-right: 10px;">
              <table>
                <tr>
                  <td><label>
                    <input type="radio" name="searchbyIdGraphic" value="IdGraphic" checked [(ngModel)]="searchby">
                    <span class="value" style="font-size: 16px;">Id Graphic</span>
                  </label></td>
                  <td><label>
                    <input type="radio" name="searchbyDateTrait" value="DateTrait" [(ngModel)]="searchby">
                    <span class="value" style="font-size: 16px;">Date de Traitement</span>
                  </label></td>
                  <td *ngIf="isPilote"><label>
                    <input type="radio" name="searchbyAffectation" value="Affectation" [(ngModel)]="searchby" >
                    <span class="value" style="font-size: 16px;">Affectation</span>
                  </label></td>
                </tr>
              </table>
            </td>
            <td style="padding-right: 10px;">
                <input type="text" class="input--style-4" placeholder="Search by Id Graphic" *ngIf="searchby === 'IdGraphic'" [(ngModel)]="searchValue">
                <input type="date" class="input--style-4" id="dateTraitement" required *ngIf="searchby === 'DateTrait'" [(ngModel)]="searchValue" name="dateTraitement"/>
                <div class="input--style-4">
                <select name="Affectation" class="input--style-4" style="border: 0;" *ngIf="searchby === 'Affectation'" [(ngModel)]="searchValue">
                    <option value={{colab.cuid}} *ngFor="let colab of colabsteam; let i = index" > {{colab.cuid}} {{colab.nom}} {{colab.prenom}}</option>    
                 </select>
                </div>
            </td>
            <td>
                <button class="searchbutt" (click)="search()">Search </button>
            </td>
        </tr>
       </table>
       <br>
       <hr>

       <div id="div1" >
        <table id="users">
            <thead>
                <tr>
                  <th>idGrafic</th>
                  <th>Affectation</th>
                  <th>Date de traitement</th>
                  <th>Type de traitement</th>
                  <th>Traitement effectué</th>
                  <th *ngIf="isPilote"> Edit </th>
                  <th *ngIf="!isPilote"> Details </th>
                  <th *ngIf="isPilote"> Delete </th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let graphic of grafics; let i = index" [class.active]="i == currentIndex" >
                  <td> {{ graphic.idGrafic}} </td>
                  <td> {{ graphic.affectation }} </td>
                  <td> {{ graphic.dateTraitement }} </td>
                  <td> {{ graphic.type_traitement }} </td>
                  <td> {{ graphic.traitement_effectue }} </td>
                  <td *ngIf="isPilote"> <button class="material-symbols-outlined" data-bs-toggle="modal" data-bs-target="#staticBackdrop" (click)="getteammembersbycuid()">edit_note</button> </td>
                  <td *ngIf="!isPilote"> <button class="material-symbols-outlined" data-bs-toggle="modal" data-bs-target="#staticBackdrop">visibility</button> </td>
                  <td *ngIf="isPilote"> <button class="material-symbols-outlined" data-bs-toggle="modal" data-bs-target="#confirmdeletionmodal">delete</button> </td>
                </tr> 
              </tbody>
        </table>

  <!-- Modal Modification-->
  <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel" *ngIf="isPilote">Update Acte {{currentGraphic.idGrafic}}</h5>
          <h5 class="modal-title" id="staticBackdropLabel" *ngIf="!isPilote">Details Acte {{currentGraphic.idGrafic}}</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <br>
          <!-- Modifiable -->
          <form>
            <table style="width: 100%;">
               <tr>
                 <td>
                      <div class="input-group">
                        <label class="label">Id Grafic</label>
                        <input class="input--style-4" 
                               type="number" 
                               name="idGrafic" 
                               placeholder="{{currentGraphic.idGrafic}}"
                               [(ngModel)]="currentGraphic.idGrafic"
                               disabled>  
                      </div>
                 </td>
   
                 <td>
                     <div class="input-group" >
                       <label class="label">Code IMB</label>
                       <input class="input--style-4" 
                              type="text" 
                              name="code_imb" 
                              placeholder="{{currentGraphic.code_imb}}"
                              [(ngModel)]="currentGraphic.code_imb"
                              disabled>      
                     </div>                  
                 </td>
   
                 <td>
                     <div class="input-group" >
                       <label class="label">IAR</label>
                       <input class="input--style-4" 
                              type="number" 
                              name="iar"
                              placeholder="{{currentGraphic.code_imb}}"
                              disabled
                              [(ngModel)]="currentGraphic.iar">
                     </div>
                 </td>
               </tr>
               <tr>
                   <td>
                        <div class="input-group">
                          <label class="label">Groupe d'opérateur (OI)</label>
                          <input class="input--style-4" 
                                 type="text" 
                                 name="groupe_operation" 
                                 placeholder="{{currentGraphic.code_imb}}"
                                 disabled
                                 [(ngModel)]="currentGraphic.groupe_operation">
                         </div>
                   </td>
                   
                   <td>
                       <div class="input-group" >
                         <label class="label">Affectation</label>
                         <input class="input--style-4" 
                                type="text" 
                                name="affectation" 
                                value="{{currentGraphic.affectation}}" 
                                disabled>
                       </div>
                   </td>
    
                   <td>
                       <div class="input-group" >
                         <label class="label">Date de traitement</label>
                         <input class="input--style-4" 
                                type="text" 
                                name="dateTraitement" 
                                value="{{currentGraphic.dateTraitement}}" 
                                [(ngModel)]="currentGraphic.dateTraitement" 
                                disabled>
                       </div>
                   </td>
                 </tr>
                 <tr>
                   <td>
                        <div class="input-group">
                          <label class="label">Duree</label>
                          <input class="input--style-4" 
                                 type="number" 
                                 name="duree" 
                                 [(ngModel)]="currentGraphic.duree"
                                 disabled>
                         </div>
                   </td>
     
                   <td>
                       <div class="input-group" >
                         <label class="label">Commentaire</label>
                         <input class="input--style-4" 
                                type="text" 
                                name="commentaire" 
                                [(ngModel)]="currentGraphic.commentaire"
                                disabled>
                       </div>
                   </td>
                   <td>
                       <div class="input-group">
                        <label class="label">Type de Traitement</label>
                        <input class="input--style-4" 
                                type="text" 
                                name="type_traitement" 
                                [(ngModel)]="currentGraphic.type_traitement"
                                disabled>
                    </div> 
                    </td>
                 </tr>
                 <tr>         
                   <td>
                       <div class="input-group">
                        <label class="label" style="padding-right: 100px;">Statut Grafic</label>
                        <input class="input--style-4" 
                                type="text" 
                                name="statut_graphic" 
                                [(ngModel)]="currentGraphic.statut_graphic"
                                disabled>
                        </div> 
                    </td>
                    <td>
                       <div class="input-group">
                        <label class="label">Traitement effectué</label>
                        <input class="input--style-4" 
                                type="text" 
                                name="traitement_effectue" 
                                [(ngModel)]="currentGraphic.traitement_effectue"
                                disabled>
                       </div> 
                    </td>
                   
                 </tr>
            </table>   
             </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary"  *ngIf="isPilote" >Update</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>


  <!-- Modal delation-->
  <div class="modal fade" id="confirmdeletionmodal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">Delete Acte {{currentGraphic.idGrafic}}</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <br>
          Are you sure you want to delete act {{currentGraphic.idGrafic}} ?
          <br>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" (click)="deactiveGrafic()"  >Delete</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>

       </div>
       <br>
       <hr>
    <br>
    <div style="text-align: right;" *ngIf="isPilote"> 
      <button class="btn" (click)="listnonactivegrafic()">
        <i class="fa fa-trash"></i>
      </button>  
    </div>
         
    </div>
   </div>



   
</body>
</html>